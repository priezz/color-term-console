"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var o=0,r=Array(e.length);o<e.length;o++)r[o]=e[o];return r}return Array.from(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getColorTheme=exports.setColorTheme=exports.condensedJsonOutput=void 0;var _extends=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_cliColor=require("cli-color"),_cliColor2=_interopRequireDefault(_cliColor),_jsonStringifyPrettyCompact=require("json-stringify-pretty-compact"),_jsonStringifyPrettyCompact2=_interopRequireDefault(_jsonStringifyPrettyCompact),_global=global||window,console=_global.console,inTerm="undefined"==typeof(_global._console||console).clear,noop=function(){},hr="-".repeat(80),clear="\n".repeat(12),_compactJson=!1,condensedJsonOutput=exports.condensedJsonOutput=function(e){return"boolean"==typeof e&&(_compactJson=e),_compactJson},perf=_global.performance,now=perf&&(perf.now||perf.mozNow||perf.msNow||perf.oNow||perf.webkitNow),getTime=function(){return now&&now.call(perf)||(new Date).getTime()},_colorTheme={number:"olive",key:"blue",string:"green",boolean:"blue",null:"gray",log:"white",debug:"gray",info:"cyan",warn:"yellow",error:"red",dir:"pink",dirxml:"pink"},setColorTheme=exports.setColorTheme=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&(_colorTheme=_extends({},_colorTheme,e)),_colorTheme},getColorTheme=exports.getColorTheme=function(){return _colorTheme},_groupIndent=4,_collapsed=!1,groups=[],times={},counts={},printToTerm=function(e){for(var o=arguments.length,r=Array(o>1?o-1:0),n=1;o>n;n++)r[n-1]=arguments[n];var t={black:"black",white:"whiteBright",grey:"white",gray:"white",red:"red",tomato:"redBright",green:"green",acidgreen:"greenBright",yellow:"yellowBright",olive:"yellow",blue:"blueBright",navy:"blue",magenta:"magenta",pink:"magentaBright",cyan:"cyanBright",darkcyan:"cyan"},l=function(e){return e?e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var o="number";return/^"/.test(e)?o=/:$/.test(e)?"key":"string":/true|false/.test(e)?o="boolean":/null/.test(e)&&(o="null"),_cliColor2.default[t[_colorTheme[o]]](e)}):_cliColor2.default[t[_colorTheme.null]]("undefined")};if(!_collapsed){for(var c="",a=0;a<r.length;a++){var s=r[a],i="";if("string"!=typeof s){var u=_compactJson?_jsonStringifyPrettyCompact2.default(s,{maxLength:80,indent:2}):JSON.stringify(s,void 0,4);i=l(u)}else{for(var p=s.split("%c"),g=1;g<p.length;g++){var f=("{ "+(r[a+1]||"")+" }").replace(/;+/g,",").replace(/\s*([{}\[\]:,])\s*/g,"$1$1").replace(/([{\[:,])['"]?([a-zA-Z0-9_\-\s]+)['"]?([}\]:,])/g,'$1"$2"$3').replace(/{+/g,"{").replace(/}+/g,"}").replace(/\[+/g,"[").replace(/\]+/g,"]").replace(/:+/g,":").replace(/,+/g,",").replace(/,([}\]])/g,"$1"),d=void 0;try{d=JSON.parse(f)}catch(e){d={}}for(var m in d){var y=d[m].toLowerCase();switch(m.toLowerCase().replace("-","")){case"color":y=t[y];break;case"textdecoration":case"fontstyle":case"fontweight":break;case"backgroundcolor":y=t[y],y="bg"+y[0].toUpperCase()+y.slice(1)}_cliColor2.default[y]&&(p[g]=_cliColor2.default[y](p[g]))}a++}i=p.join("")}c+=(c.length&&i.length?" ":"")+i}if(groups.length){var _=_cliColor2.default[t.gray]((" ".repeat(_groupIndent-1)+"Â·").repeat(groups.length));c=_+c.replace(/\n/g,"\n"+_)}_global._console[e]("[39m"+c.replace(/\n/g,"[37m\n[39m")+"[37m")}},methodLabel=function(e){return"log"===e?[]:["%c "+e+" ","background-color: "+_colorTheme[e]+"; color: black;"]};"undefined"==typeof _global._console&&!function(){var e={};_global._console=e;var o=["profile","profileEnd","trace","table"];o.map(function(e){return console[e]=console[e]||noop});var r=["log","debug","info","warn","error","dir","dirxml"];r.map(function(o){e[o]=console[o]||console.log||noop,"error"===o&&console._errorOriginal&&(e.error=console._errorOriginal,console.errorBox=console.error);var r=inTerm?function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];return printToTerm.apply(void 0,[o].concat(r))}:e[o],n=function(){for(var e=arguments.length,n=Array(e),t=0;e>t;t++)n[t]=arguments[t];return r.apply(void 0,_toConsumableArray(methodLabel(o)).concat(n))};"error"===o&&console.errorBox?console._errorOriginal=n:console[o]=n}),console.timeStamp||(console.timeStamp=function(){return console.log(getTime())});var n=function(e,o){var r=o?["%c]]","color: acidGreen"]:[];console.log.apply(console,["%c[[ %c"+e,"color: acidGreen","color: gray; text-decoration: underline;"].concat(r)),groups.push({label:e,collapsed:o,collapsedPrev:_collapsed}),_collapsed=_collapsed||o};console.group||(console.group=function(e){return n(e,!1)}),console.groupCollapsed||(console.groupCollapsed=function(e){return n(e,!0)}),console.groupEnd||(console.groupEnd=function(){var e=groups.pop(),o=(e.label,e.collapsed),r=e.collapsedPrev;_collapsed=r,o||console.log("%c]]","color: acidGreen")}),console.time||(console.time=function(e){return times[e]=getTime()}),console.timeEnd||(console.timeEnd=function(e){console.log(e+":",(getTime()-times[e]).toFixed(3)+"ms"),delete times[e]}),console.assert||(console.assert=function(e,o){e||console.error("Assertion failed:",o)}),console.count||(console.count=function(e){counts[e]||(counts[e]=0),counts[e]++,console.log(e+":",counts[e])}),e.clear=console.clear,console.clear||(console.clear=function(){return console.log(clear)})}(),console.log("\n\n%c"+hr+"\n","color: gray");